package com.monocept.dao;



	import java.sql.Connection;
	import java.sql.PreparedStatement;
	import java.sql.ResultSet;
	import java.sql.SQLException;

	import com.monocept.entry.Customer;


	public class CustomerDao {

	    private static final String VALIDATE_CUSTOMER_QUERY = "SELECT * FROM customer WHERE email_id = ? AND password = ?";

	    public static Customer validateCustomer(String email, String password) {
	        try (Connection connection =DataBaseUtil.getConnection();
	             PreparedStatement statement = connection.prepareStatement(VALIDATE_CUSTOMER_QUERY)) {

	            statement.setString(1, email);
	            statement.setString(2, password);
	            ResultSet resultSet = statement.executeQuery();

	            if (resultSet.next()) {
	                int customerId = resultSet.getInt("customer_id");
	                String firstName = resultSet.getString("first_name");
	                String lastName = resultSet.getString("last_name");
	                return new Customer(customerId, firstName, lastName, email, password);
	            }

	        } catch (SQLException e) {
	            e.printStackTrace();
	        }
	        return null;
	    }
	}

